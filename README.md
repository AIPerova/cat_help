# Приложение QRKot
Приложение для Благотворительного фонда поддержки котиков QRKot. 
Фонд собирает пожертвования на различные целевые проекты: на медицинское обслуживание нуждающихся хвостатых, на обустройство кошачьей колонии в подвале, на корм оставшимся без попечения кошкам — на любые цели, связанные с поддержкой кошачьей популяции.

В Фонде QRKot может быть открыто несколько целевых проектов. У каждого проекта есть название, описание и сумма, которую планируется собрать. После того, как нужная сумма собрана — проект закрывается.
Пожертвования в проекты поступают по принципу First In, First Out: все пожертвования идут в проект, открытый раньше других; когда этот проект набирает необходимую сумму и закрывается — пожертвования начинают поступать в следующий проект.

Каждый пользователь может сделать пожертвование и сопроводить его комментарием. Пожертвования не целевые: они вносятся в фонд, а не в конкретный проект. Каждое полученное пожертвование автоматически добавляется в первый открытый проект, который ещё не набрал нужную сумму. Если пожертвование больше нужной суммы или же в Фонде нет открытых проектов — оставшиеся деньги ждут открытия следующего проекта. При создании нового проекта все неинвестированные пожертвования автоматически вкладываются в новый проект.

Ключевые возможности сервиса:
 - возможность создания, редактирования и удаления проекта доступны только для суперюзера(удаление частично или полностью инвестированного проекта невозможно, изменение требуемой проектом суммы на меньшую так же невозможно)
 - возможность регистрации для пользователей и создание пожертвований, которые будут распределены в соответствии со спецификацией проекта.

## Как запустить приложение:

Клонировать репозиторий и перейти в него в командной строке:

```
git clone 
```

```
cd cat_charity_fund
```

Cоздать и активировать виртуальное окружение:

```
python3 -m venv venv
```

* Если у вас Linux/macOS

    ```
    source venv/bin/activate
    ```

* Если у вас windows

    ```
    source venv/scripts/activate
    ```

Установить зависимости из файла requirements.txt:

```
python3 -m pip install --upgrade pip
```

```
pip install -r requirements.txt
```

Запустить проект:
```
uvicorn app.main:app --reload
```

Сервис будет доступен по следующим адресам:

 - http://127.0.0.1:8000 - API
 - http://127.0.0.1:8000/docs - автоматически сгенерированная документация Swagger
 - http://127.0.0.1:8000/redoc - автоматически сгенерированная документация ReDoc
После запуска доступны следующие эндпоинты:

Регистрация и аутентификация:
 - /auth/register - регистрация пользователя
 - /auth/jwt/login - аутентификация пользователя (получение jwt-токена)
 - /auth/jwt/logout - выход (сброс jwt-токена)
Пользователи:
 - /users/me - получение и изменение данных аутентифицированного пользователя
 - /users/{id} - получение и изменение данных пользователя по id
Благотворительные проекты:
 - /charity_project/ - получение списка проектов и создание нового
 - /charity_project/{project_id} - изменение и удаление существующего проекта
Пожертвования:
 - /donation/ - получение списка всех пожертвований и создание пожертвования
 - /donation/my - получение списка всех пожертвований аутентифицированного пользователя


### Автор проекта:
[Алёна Перова](https://github.com/AIPerova)